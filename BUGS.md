# 버그들

## 다른 탭의 다른 날짜의 텍스트 영역이 동기화됨 [해결됨]

### 원인

- 첫 마운트 될 때(`useEffect(fn, [])`) listener를 해당 시점의 날짜(`currentDate`)의 변경이 있을 때 log를 변경함.
- 문제는 날짜 변경 버튼으로 간 후에도 해당 listener가 동작한다는 점임.

### 해결 방법

- 날짜 변경 시 listener 제거 후 변경 후 날짜의 listener를 등록하면 됨.

### 재현 방법

1. 마이타임 접속(오늘 날짜로 열림)
2. 예전 날짜로 이동
3. 새 마이타임 탭 염(오늘 날짜로 열림), 여기서 수정함.
4. 예전 날짜로 열린 탭 내용도 동기화됨

## 처음 열었을 때 기록지가 빈 경우 다른 날짜로 이동해도 차트가 그려지지 않음 [해결됨]

### 원인

- `onLogUpdate`가 호출되지 않았기 때문


## 예전 기록지 중 24시간 이전의 로그가 '수면' 키워드 없이 끝나면 차트가 이상하게 그려짐

### 원인

- 마지막 기록의 시각이 `[24:00]` 이전인 경우 `addCurrentTime`이 현재 시각을 그대로 입력해버려서 시간 축 상 거꾸로 되기 때문.
- '수면' 키워드가 없어도 어제 이전의 날짜는 `addCurrentTime`을 적용하지 않아야 함.
